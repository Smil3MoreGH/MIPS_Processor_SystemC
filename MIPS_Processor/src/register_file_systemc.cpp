/*
 * register_file_systemc.cpp
 *
 *  Created on: Jul 10, 2022
 *      Author: paul
 */
#include "register_file_systemc.h"

void register_file_systemc::Behavioral()
{
	if(rst)
	{
		reg_array = {	{"00000000000000000000000000000000"},//0
		    	    	{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},
		    			{"00000000000000000000000000000000"},//15
		    	    };
	}
	else if (clk == '0' && clk.event() && reg_write_en == '1')
	{
		reg_array[(int)((sc_uint<16>)reg_write_en)] = reg_write_data;
    }
};
